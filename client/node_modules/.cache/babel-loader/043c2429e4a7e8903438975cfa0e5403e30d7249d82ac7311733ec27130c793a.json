{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\twj23\\\\Desktop\\\\Developer\\\\Games\\\\Multiplayer Blackjack Copy\\\\client\\\\src\\\\contexts\\\\GameContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { io } from 'socket.io-client';\nimport { useNavigate } from 'react-router-dom';\nimport { SOCKET_SERVER } from '../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const GameContext = /*#__PURE__*/createContext();\nexport const useGame = () => {\n  _s();\n  return useContext(GameContext);\n};\n_s(useGame, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const GameProvider = ({\n  children\n}) => {\n  _s2();\n  const [socket, setSocket] = useState(null);\n  const [connected, setConnected] = useState(false);\n  const [username, setUsername] = useState('');\n  const [balance, setBalance] = useState(1000);\n  const [roomId, setRoomId] = useState(null);\n  const [players, setPlayers] = useState([]);\n  const [dealer, setDealer] = useState({\n    cards: [],\n    score: 0\n  });\n  const [gameState, setGameState] = useState('waiting');\n  const [currentTurn, setCurrentTurn] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [error, setError] = useState(null);\n  const [gameHistory, setGameHistory] = useState([]);\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [lastBet, setLastBet] = useState(0);\n  const [hintsEnabled, setHintsEnabled] = useState(true);\n  const [pendingMoneyRequests, setPendingMoneyRequests] = useState([]);\n  const [sentMoneyRequests, setSentMoneyRequests] = useState([]);\n  const [activeLoans, setActiveLoans] = useState([]);\n  const navigate = useNavigate();\n\n  // Helper function to add messages to the chat\n  const addMessage = message => {\n    setMessages(prevMessages => [...prevMessages, message]);\n  };\n\n  // Connect to socket server\n  useEffect(() => {\n    const newSocket = io(SOCKET_SERVER);\n    newSocket.on('connect', () => {\n      setSocket(newSocket);\n      setConnected(true);\n      console.log('Connected to server');\n    });\n    newSocket.on('disconnect', () => {\n      setConnected(false);\n      console.log('Disconnected from server');\n    });\n    newSocket.on('error', data => {\n      setError(data.message);\n      setTimeout(() => setError(null), 5000);\n    });\n    return () => {\n      newSocket.disconnect();\n    };\n  }, []);\n\n  // Handle room events\n  useEffect(() => {\n    if (!socket) return;\n    socket.on('room_joined', data => {\n      if (!data) return;\n      setRoomId(data.roomId);\n      setPlayers(data.players || []);\n      setGameState(data.gameState || 'waiting');\n      setError(null);\n\n      // Add system message\n      const playerNames = data.players ? data.players.map(p => p.username).join(', ') : '';\n      addMessage({\n        content: `Room joined. Current players: ${playerNames}`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n\n      // Navigate to game room after successful join\n      navigate('/game-room');\n    });\n    socket.on('player_joined', data => {\n      if (!data || !data.players) return;\n      setPlayers(data.players);\n\n      // Add system message about new player\n      const newPlayer = data.players[data.players.length - 1];\n      if (newPlayer) {\n        addMessage({\n          content: `${newPlayer.username} joined the room`,\n          type: 'system',\n          timestamp: Date.now()\n        });\n      }\n    });\n    socket.on('player_left', data => {\n      if (!data) return;\n      setPlayers(data.players || []);\n\n      // Add system message about player leaving\n      if (data.leftPlayer) {\n        addMessage({\n          content: `${data.leftPlayer} left the room`,\n          type: 'system',\n          timestamp: Date.now()\n        });\n      }\n    });\n    return () => {\n      socket.off('room_joined');\n      socket.off('player_joined');\n      socket.off('player_left');\n    };\n  }, [socket, navigate]);\n\n  // Handle game events\n  useEffect(() => {\n    if (!socket) return;\n    socket.on('game_started', data => {\n      if (!data) return;\n      setGameState('betting');\n      setDealer(data.dealer || {\n        cards: [],\n        score: 0\n      });\n      setPlayers(data.players || []);\n      addMessage({\n        content: 'Game started! Place your bets.',\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n    socket.on('betting_ended', data => {\n      if (!data) return;\n      setPlayers(data.players || []);\n      setGameState('playing');\n      addMessage({\n        content: 'All bets placed. Game is starting...',\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n    socket.on('player_turn', data => {\n      setCurrentTurn(data.playerId);\n      const player = data.players && data.players.find(p => p.id === data.playerId);\n      addMessage({\n        content: `It's ${player ? player.username : 'unknown player'}'s turn`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n    socket.on('card_dealt', data => {\n      if (!data) return;\n      if (data.to === 'dealer') {\n        setDealer(data.dealer || {\n          cards: [],\n          score: 0\n        });\n      } else if (data.to && data.cards) {\n        setPlayers(prev => prev.map(player => player.id === data.to ? {\n          ...player,\n          cards: data.cards,\n          score: data.score || 0\n        } : player));\n      }\n    });\n    socket.on('turn_ended', data => {\n      if (!data) return;\n      setCurrentTurn(data.nextTurn);\n      setPlayers(data.players || []);\n    });\n    socket.on('dealer_turn', () => {\n      setCurrentTurn('dealer');\n      addMessage({\n        content: `Dealer's turn`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n    socket.on('game_ended', data => {\n      setGameState('ended');\n      setDealer(data.dealer);\n      setPlayers(data.players || []);\n      setCurrentTurn(null);\n\n      // Update the player's balance\n      const currentPlayer = data.players && data.players.find(p => p.id === socket.id);\n      if (currentPlayer) {\n        setBalance(currentPlayer.balance);\n      }\n\n      // Update game history\n      if (data.result) {\n        setGameHistory(prev => [{\n          ...data.result,\n          timestamp: Date.now(),\n          roundNumber: prev.length + 1\n        }, ...prev].slice(0, 10)); // Keep only the last 10 rounds\n      }\n\n      // Add system message\n      addMessage({\n        content: `Game ended. Results: ${data.result && data.result.results ? data.result.results.map(r => `${r.username}: ${r.outcome} (${r.amountChange >= 0 ? '+' : ''}${r.amountChange})`).join(', ') : 'No results available'}`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n    socket.on('new_round', data => {\n      if (!data) return;\n      setGameState('betting');\n      setPlayers(data.players || []);\n      setDealer({\n        cards: [],\n        score: 0\n      });\n      addMessage({\n        content: 'New round started. Place your bets!',\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n    socket.on('message', data => {\n      addMessage(data);\n    });\n    socket.on('leaderboard_updated', data => {\n      setLeaderboard(data.leaderboard);\n    });\n    socket.on('player_split', data => {\n      var _data$players$find;\n      if (!data) return;\n      setPlayers(data.players || []);\n      addMessage({\n        content: `${((_data$players$find = data.players.find(p => p.id === data.playerId)) === null || _data$players$find === void 0 ? void 0 : _data$players$find.username) || 'Player'} split their hand`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n    return () => {\n      socket.off('game_started');\n      socket.off('betting_ended');\n      socket.off('card_dealt');\n      socket.off('player_turn');\n      socket.off('turn_ended');\n      socket.off('dealer_turn');\n      socket.off('game_ended');\n      socket.off('new_round');\n      socket.off('message');\n      socket.off('leaderboard_updated');\n      socket.off('player_split');\n    };\n  }, [socket]);\n\n  // Handle money request events\n  useEffect(() => {\n    if (!socket) return;\n\n    // When a player receives a money request\n    socket.on('money_request', data => {\n      setPendingMoneyRequests(prev => [...prev, data]);\n\n      // Add system message\n      addMessage({\n        content: `${data.requester.username} is requesting ${data.amount} chips from you. If accepted, they will owe you ${data.returnAmount} chips.`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n\n    // When a money request is accepted\n    socket.on('money_request_accepted', data => {\n      // Remove from sent requests\n      setSentMoneyRequests(prev => prev.filter(req => req.requestId !== data.requestId));\n\n      // Add to active loans\n      setActiveLoans(prev => [...prev, {\n        ...data,\n        type: 'borrower',\n        timestamp: Date.now()\n      }]);\n\n      // Add system message\n      addMessage({\n        content: `${data.lender.username} accepted your request for ${data.amount} chips. You now owe them ${data.returnAmount} chips.`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n\n    // When a money request is rejected\n    socket.on('money_request_rejected', data => {\n      // Remove from sent requests\n      setSentMoneyRequests(prev => prev.filter(req => req.requestId !== data.requestId));\n\n      // Add system message\n      addMessage({\n        content: `${data.lender.username} rejected your money request.`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n\n    // When money is sent to a player\n    socket.on('money_sent', data => {\n      // Remove from pending requests\n      setPendingMoneyRequests(prev => prev.filter(req => req.requestId !== data.requestId));\n\n      // Add to active loans\n      setActiveLoans(prev => [...prev, {\n        ...data,\n        type: 'lender',\n        timestamp: Date.now()\n      }]);\n\n      // Add system message\n      addMessage({\n        content: `You sent ${data.amount} chips to ${data.borrower.username}. They now owe you ${data.returnAmount} chips.`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n\n    // When a request is rejected by the player\n    socket.on('request_rejected', data => {\n      // Remove from pending requests\n      setPendingMoneyRequests(prev => prev.filter(req => req.requestId !== data.requestId));\n\n      // Add system message\n      addMessage({\n        content: `You rejected ${data.borrower.username}'s money request.`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n\n    // When a loan is repaid\n    socket.on('loan_repaid', data => {\n      // Remove from active loans\n      setActiveLoans(prev => prev.filter(loan => loan.requestId !== data.requestId));\n\n      // Add system message\n      addMessage({\n        content: `${data.borrower.username} repaid their loan of ${data.amount} chips with interest. You received ${data.returnAmount} chips.`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n\n    // When a repayment is sent\n    socket.on('repayment_sent', data => {\n      // Remove from active loans\n      setActiveLoans(prev => prev.filter(loan => loan.requestId !== data.requestId));\n\n      // Add system message\n      addMessage({\n        content: `You repaid your loan of ${data.amount} chips to ${data.lender.username} with interest. Total paid: ${data.returnAmount} chips.`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n\n    // When a request is sent\n    socket.on('request_sent', data => {\n      // Add to sent requests\n      setSentMoneyRequests(prev => [...prev, data]);\n\n      // Add system message\n      addMessage({\n        content: `You requested ${data.amount} chips from ${data.targetPlayer.username}.`,\n        type: 'system',\n        timestamp: Date.now()\n      });\n    });\n    return () => {\n      socket.off('money_request');\n      socket.off('money_request_accepted');\n      socket.off('money_request_rejected');\n      socket.off('money_sent');\n      socket.off('request_rejected');\n      socket.off('loan_repaid');\n      socket.off('repayment_sent');\n      socket.off('request_sent');\n    };\n  }, [socket]);\n\n  // Game actions\n  const createRoom = (username, initialBalance = 1000) => {\n    if (!connected) return;\n    setUsername(username);\n    setBalance(initialBalance);\n    socket.emit('create_room', {\n      username,\n      balance: initialBalance\n    });\n  };\n  const joinRoom = (roomId, username, initialBalance = 1000) => {\n    if (!connected) return;\n    setUsername(username);\n    setBalance(initialBalance);\n    socket.emit('join_room', {\n      roomId,\n      username,\n      balance: initialBalance\n    });\n  };\n  const startGame = () => {\n    if (!connected || !roomId) return;\n    socket.emit('start_game', {\n      roomId\n    });\n  };\n  const placeBet = amount => {\n    if (!connected || !roomId) return;\n    socket.emit('place_bet', {\n      roomId,\n      amount\n    });\n    setLastBet(amount);\n  };\n  const hit = () => {\n    if (!connected || !roomId) return;\n\n    // For split hands, we need to use the original player's socket ID\n    if (currentTurn && currentTurn.includes('-split')) {\n      const originalPlayerId = currentTurn.split('-')[0];\n      if (originalPlayerId === socket.id) {\n        socket.emit('hit', {\n          roomId,\n          handId: currentTurn\n        });\n      }\n    } else if (currentTurn === socket.id) {\n      socket.emit('hit', {\n        roomId\n      });\n    }\n  };\n  const stand = () => {\n    if (!connected || !roomId) return;\n\n    // For split hands, we need to use the original player's socket ID\n    if (currentTurn && currentTurn.includes('-split')) {\n      const originalPlayerId = currentTurn.split('-')[0];\n      if (originalPlayerId === socket.id) {\n        socket.emit('stand', {\n          roomId,\n          handId: currentTurn\n        });\n      }\n    } else if (currentTurn === socket.id) {\n      socket.emit('stand', {\n        roomId\n      });\n    }\n  };\n  const doubleDown = () => {\n    if (!connected || !roomId) return;\n\n    // For split hands, we need to use the original player's socket ID\n    if (currentTurn && currentTurn.includes('-split')) {\n      const originalPlayerId = currentTurn.split('-')[0];\n      if (originalPlayerId === socket.id) {\n        socket.emit('double_down', {\n          roomId,\n          handId: currentTurn\n        });\n      }\n    } else if (currentTurn === socket.id) {\n      socket.emit('double_down', {\n        roomId\n      });\n    }\n  };\n  const split = () => {\n    if (!connected || !roomId || currentTurn !== socket.id) return;\n\n    // Can't split a split hand\n    if (currentTurn.includes('-split')) return;\n    socket.emit('split', {\n      roomId\n    });\n  };\n  const surrender = () => {\n    if (!connected || !roomId) return;\n\n    // For split hands, we need to use the original player's socket ID\n    if (currentTurn && currentTurn.includes('-split')) {\n      const originalPlayerId = currentTurn.split('-')[0];\n      if (originalPlayerId === socket.id) {\n        socket.emit('surrender', {\n          roomId,\n          handId: currentTurn\n        });\n      }\n    } else if (currentTurn === socket.id) {\n      socket.emit('surrender', {\n        roomId\n      });\n    }\n  };\n  const startNewRound = () => {\n    if (!connected || !roomId) return;\n    socket.emit('new_round', {\n      roomId\n    });\n  };\n  const sendMessage = message => {\n    if (!connected || !roomId) return;\n    socket.emit('send_message', {\n      roomId,\n      message,\n      sender: username\n    });\n  };\n  const leaveRoom = () => {\n    if (!connected || !roomId) return;\n    socket.emit('leave_room', {\n      roomId\n    });\n    setRoomId(null);\n    setPlayers([]);\n    setDealer({\n      cards: [],\n      score: 0\n    });\n    setGameState('waiting');\n    setCurrentTurn(null);\n    setMessages([]);\n  };\n\n  // Check if it's current player's turn\n  const isPlayerTurn = () => {\n    if (!socket || !currentTurn) return false;\n\n    // Direct match with player's socket ID\n    if (currentTurn === socket.id) return true;\n\n    // Check if it's the player's split hand turn\n    // Split hands have IDs in the format: originalPlayerId-split\n    if (currentTurn.includes('-split')) {\n      const originalPlayerId = currentTurn.split('-')[0];\n      return originalPlayerId === socket.id;\n    }\n    return false;\n  };\n\n  // Find the current player\n  const getCurrentPlayer = () => {\n    if (!socket || !players) return null;\n\n    // First check for the player's main hand\n    const player = players.find(p => p.id === socket.id);\n\n    // If it's the player's split hand turn, return that hand instead\n    if (currentTurn && currentTurn.includes('-split')) {\n      const splitHand = players.find(p => p.id === currentTurn);\n      if (splitHand && splitHand.originalPlayer === socket.id) {\n        return splitHand;\n      }\n    }\n    return player;\n  };\n\n  // Toggle hints\n  const toggleHints = () => {\n    setHintsEnabled(prev => !prev);\n  };\n\n  // Request money from a player\n  const requestMoney = (targetPlayerId, amount) => {\n    if (!socket || !roomId) return;\n    socket.emit('request_money', {\n      roomId,\n      targetPlayerId,\n      amount: parseInt(amount, 10)\n    });\n  };\n\n  // Accept a money request\n  const acceptMoneyRequest = requestId => {\n    if (!socket || !roomId) return;\n    socket.emit('accept_money_request', {\n      roomId,\n      requestId\n    });\n  };\n\n  // Reject a money request\n  const rejectMoneyRequest = requestId => {\n    if (!socket || !roomId) return;\n    socket.emit('reject_money_request', {\n      roomId,\n      requestId\n    });\n  };\n\n  // Repay a loan\n  const repayLoan = requestId => {\n    if (!socket || !roomId) return;\n    socket.emit('repay_loan', {\n      roomId,\n      requestId\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(GameContext.Provider, {\n    value: {\n      connected,\n      username,\n      balance,\n      roomId,\n      players,\n      dealer,\n      gameState,\n      currentTurn,\n      messages,\n      error,\n      gameHistory,\n      leaderboard,\n      lastBet,\n      hintsEnabled,\n      pendingMoneyRequests,\n      sentMoneyRequests,\n      activeLoans,\n      createRoom,\n      joinRoom,\n      startGame,\n      placeBet,\n      hit,\n      stand,\n      doubleDown,\n      split,\n      surrender,\n      startNewRound,\n      sendMessage,\n      leaveRoom,\n      isPlayerTurn,\n      getCurrentPlayer,\n      toggleHints,\n      requestMoney,\n      acceptMoneyRequest,\n      rejectMoneyRequest,\n      repayLoan\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 607,\n    columnNumber: 5\n  }, this);\n};\n_s2(GameProvider, \"AyBowm0MWbJFFtRfgDFOl87tH8o=\", false, function () {\n  return [useNavigate];\n});\n_c = GameProvider;\nvar _c;\n$RefreshReg$(_c, \"GameProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","io","useNavigate","SOCKET_SERVER","jsxDEV","_jsxDEV","GameContext","useGame","_s","GameProvider","children","_s2","socket","setSocket","connected","setConnected","username","setUsername","balance","setBalance","roomId","setRoomId","players","setPlayers","dealer","setDealer","cards","score","gameState","setGameState","currentTurn","setCurrentTurn","messages","setMessages","error","setError","gameHistory","setGameHistory","leaderboard","setLeaderboard","lastBet","setLastBet","hintsEnabled","setHintsEnabled","pendingMoneyRequests","setPendingMoneyRequests","sentMoneyRequests","setSentMoneyRequests","activeLoans","setActiveLoans","navigate","addMessage","message","prevMessages","newSocket","on","console","log","data","setTimeout","disconnect","playerNames","map","p","join","content","type","timestamp","Date","now","newPlayer","length","leftPlayer","off","playerId","player","find","id","to","prev","nextTurn","currentPlayer","result","roundNumber","slice","results","r","outcome","amountChange","_data$players$find","requester","amount","returnAmount","filter","req","requestId","lender","borrower","loan","targetPlayer","createRoom","initialBalance","emit","joinRoom","startGame","placeBet","hit","includes","originalPlayerId","split","handId","stand","doubleDown","surrender","startNewRound","sendMessage","sender","leaveRoom","isPlayerTurn","getCurrentPlayer","splitHand","originalPlayer","toggleHints","requestMoney","targetPlayerId","parseInt","acceptMoneyRequest","rejectMoneyRequest","repayLoan","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/twj23/Desktop/Developer/Games/Multiplayer Blackjack Copy/client/src/contexts/GameContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { SOCKET_SERVER } from '../config';\r\n\r\nexport const GameContext = createContext();\r\n\r\nexport const useGame = () => useContext(GameContext);\r\n\r\nexport const GameProvider = ({ children }) => {\r\n  const [socket, setSocket] = useState(null);\r\n  const [connected, setConnected] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n  const [balance, setBalance] = useState(1000);\r\n  const [roomId, setRoomId] = useState(null);\r\n  const [players, setPlayers] = useState([]);\r\n  const [dealer, setDealer] = useState({ cards: [], score: 0 });\r\n  const [gameState, setGameState] = useState('waiting');\r\n  const [currentTurn, setCurrentTurn] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [gameHistory, setGameHistory] = useState([]);\r\n  const [leaderboard, setLeaderboard] = useState([]);\r\n  const [lastBet, setLastBet] = useState(0);\r\n  const [hintsEnabled, setHintsEnabled] = useState(true);\r\n  const [pendingMoneyRequests, setPendingMoneyRequests] = useState([]);\r\n  const [sentMoneyRequests, setSentMoneyRequests] = useState([]);\r\n  const [activeLoans, setActiveLoans] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  // Helper function to add messages to the chat\r\n  const addMessage = (message) => {\r\n    setMessages(prevMessages => [...prevMessages, message]);\r\n  };\r\n\r\n  // Connect to socket server\r\n  useEffect(() => {\r\n    const newSocket = io(SOCKET_SERVER);\r\n    \r\n    newSocket.on('connect', () => {\r\n      setSocket(newSocket);\r\n      setConnected(true);\r\n      console.log('Connected to server');\r\n    });\r\n    \r\n    newSocket.on('disconnect', () => {\r\n      setConnected(false);\r\n      console.log('Disconnected from server');\r\n    });\r\n    \r\n    newSocket.on('error', (data) => {\r\n      setError(data.message);\r\n      setTimeout(() => setError(null), 5000);\r\n    });\r\n    \r\n    return () => {\r\n      newSocket.disconnect();\r\n    };\r\n  }, []);\r\n  \r\n  // Handle room events\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    \r\n    socket.on('room_joined', (data) => {\r\n      if (!data) return;\r\n      setRoomId(data.roomId);\r\n      setPlayers(data.players || []);\r\n      setGameState(data.gameState || 'waiting');\r\n      setError(null);\r\n      \r\n      // Add system message\r\n      const playerNames = data.players ? data.players.map(p => p.username).join(', ') : '';\r\n      addMessage({\r\n        content: `Room joined. Current players: ${playerNames}`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n\r\n      // Navigate to game room after successful join\r\n      navigate('/game-room');\r\n    });\r\n    \r\n    socket.on('player_joined', (data) => {\r\n      if (!data || !data.players) return;\r\n      setPlayers(data.players);\r\n      \r\n      // Add system message about new player\r\n      const newPlayer = data.players[data.players.length - 1];\r\n      if (newPlayer) {\r\n        addMessage({\r\n          content: `${newPlayer.username} joined the room`,\r\n          type: 'system',\r\n          timestamp: Date.now()\r\n        });\r\n      }\r\n    });\r\n    \r\n    socket.on('player_left', (data) => {\r\n      if (!data) return;\r\n      setPlayers(data.players || []);\r\n      \r\n      // Add system message about player leaving\r\n      if (data.leftPlayer) {\r\n        addMessage({\r\n          content: `${data.leftPlayer} left the room`,\r\n          type: 'system',\r\n          timestamp: Date.now()\r\n        });\r\n      }\r\n    });\r\n    \r\n    return () => {\r\n      socket.off('room_joined');\r\n      socket.off('player_joined');\r\n      socket.off('player_left');\r\n    };\r\n  }, [socket, navigate]);\r\n  \r\n  // Handle game events\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    \r\n    socket.on('game_started', (data) => {\r\n      if (!data) return;\r\n      setGameState('betting');\r\n      setDealer(data.dealer || { cards: [], score: 0 });\r\n      setPlayers(data.players || []);\r\n      \r\n      addMessage({\r\n        content: 'Game started! Place your bets.',\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    socket.on('betting_ended', (data) => {\r\n      if (!data) return;\r\n      setPlayers(data.players || []);\r\n      setGameState('playing');\r\n      \r\n      addMessage({\r\n        content: 'All bets placed. Game is starting...',\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    socket.on('player_turn', (data) => {\r\n      setCurrentTurn(data.playerId);\r\n      \r\n      const player = data.players && data.players.find(p => p.id === data.playerId);\r\n      \r\n      addMessage({\r\n        content: `It's ${player ? player.username : 'unknown player'}'s turn`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    socket.on('card_dealt', (data) => {\r\n      if (!data) return;\r\n      if (data.to === 'dealer') {\r\n        setDealer(data.dealer || { cards: [], score: 0 });\r\n      } else if (data.to && data.cards) {\r\n        setPlayers(prev => \r\n          prev.map(player => \r\n            player.id === data.to ? { ...player, cards: data.cards, score: data.score || 0 } : player\r\n          )\r\n        );\r\n      }\r\n    });\r\n    \r\n    socket.on('turn_ended', (data) => {\r\n      if (!data) return;\r\n      setCurrentTurn(data.nextTurn);\r\n      setPlayers(data.players || []);\r\n    });\r\n    \r\n    socket.on('dealer_turn', () => {\r\n      setCurrentTurn('dealer');\r\n      \r\n      addMessage({\r\n        content: `Dealer's turn`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    socket.on('game_ended', (data) => {\r\n      setGameState('ended');\r\n      setDealer(data.dealer);\r\n      setPlayers(data.players || []);\r\n      setCurrentTurn(null);\r\n      \r\n      // Update the player's balance\r\n      const currentPlayer = data.players && data.players.find(p => p.id === socket.id);\r\n      if (currentPlayer) {\r\n        setBalance(currentPlayer.balance);\r\n      }\r\n      \r\n      // Update game history\r\n      if (data.result) {\r\n        setGameHistory(prev => [\r\n          {\r\n            ...data.result,\r\n            timestamp: Date.now(),\r\n            roundNumber: prev.length + 1\r\n          },\r\n          ...prev\r\n        ].slice(0, 10)); // Keep only the last 10 rounds\r\n      }\r\n      \r\n      // Add system message\r\n      addMessage({\r\n        content: `Game ended. Results: ${data.result && data.result.results\r\n          ? data.result.results\r\n              .map(r => `${r.username}: ${r.outcome} (${r.amountChange >= 0 ? '+' : ''}${r.amountChange})`)\r\n              .join(', ')\r\n          : 'No results available'}`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    socket.on('new_round', (data) => {\r\n      if (!data) return;\r\n      setGameState('betting');\r\n      setPlayers(data.players || []);\r\n      setDealer({ cards: [], score: 0 });\r\n      \r\n      addMessage({\r\n        content: 'New round started. Place your bets!',\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    socket.on('message', (data) => {\r\n      addMessage(data);\r\n    });\r\n    \r\n    socket.on('leaderboard_updated', (data) => {\r\n      setLeaderboard(data.leaderboard);\r\n    });\r\n    \r\n    socket.on('player_split', (data) => {\r\n      if (!data) return;\r\n      setPlayers(data.players || []);\r\n      \r\n      addMessage({\r\n        content: `${data.players.find(p => p.id === data.playerId)?.username || 'Player'} split their hand`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    return () => {\r\n      socket.off('game_started');\r\n      socket.off('betting_ended');\r\n      socket.off('card_dealt');\r\n      socket.off('player_turn');\r\n      socket.off('turn_ended');\r\n      socket.off('dealer_turn');\r\n      socket.off('game_ended');\r\n      socket.off('new_round');\r\n      socket.off('message');\r\n      socket.off('leaderboard_updated');\r\n      socket.off('player_split');\r\n    };\r\n  }, [socket]);\r\n  \r\n  // Handle money request events\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    \r\n    // When a player receives a money request\r\n    socket.on('money_request', (data) => {\r\n      setPendingMoneyRequests(prev => [...prev, data]);\r\n      \r\n      // Add system message\r\n      addMessage({\r\n        content: `${data.requester.username} is requesting ${data.amount} chips from you. If accepted, they will owe you ${data.returnAmount} chips.`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    // When a money request is accepted\r\n    socket.on('money_request_accepted', (data) => {\r\n      // Remove from sent requests\r\n      setSentMoneyRequests(prev => prev.filter(req => req.requestId !== data.requestId));\r\n      \r\n      // Add to active loans\r\n      setActiveLoans(prev => [...prev, {\r\n        ...data,\r\n        type: 'borrower',\r\n        timestamp: Date.now()\r\n      }]);\r\n      \r\n      // Add system message\r\n      addMessage({\r\n        content: `${data.lender.username} accepted your request for ${data.amount} chips. You now owe them ${data.returnAmount} chips.`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    // When a money request is rejected\r\n    socket.on('money_request_rejected', (data) => {\r\n      // Remove from sent requests\r\n      setSentMoneyRequests(prev => prev.filter(req => req.requestId !== data.requestId));\r\n      \r\n      // Add system message\r\n      addMessage({\r\n        content: `${data.lender.username} rejected your money request.`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    // When money is sent to a player\r\n    socket.on('money_sent', (data) => {\r\n      // Remove from pending requests\r\n      setPendingMoneyRequests(prev => prev.filter(req => req.requestId !== data.requestId));\r\n      \r\n      // Add to active loans\r\n      setActiveLoans(prev => [...prev, {\r\n        ...data,\r\n        type: 'lender',\r\n        timestamp: Date.now()\r\n      }]);\r\n      \r\n      // Add system message\r\n      addMessage({\r\n        content: `You sent ${data.amount} chips to ${data.borrower.username}. They now owe you ${data.returnAmount} chips.`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    // When a request is rejected by the player\r\n    socket.on('request_rejected', (data) => {\r\n      // Remove from pending requests\r\n      setPendingMoneyRequests(prev => prev.filter(req => req.requestId !== data.requestId));\r\n      \r\n      // Add system message\r\n      addMessage({\r\n        content: `You rejected ${data.borrower.username}'s money request.`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    // When a loan is repaid\r\n    socket.on('loan_repaid', (data) => {\r\n      // Remove from active loans\r\n      setActiveLoans(prev => prev.filter(loan => loan.requestId !== data.requestId));\r\n      \r\n      // Add system message\r\n      addMessage({\r\n        content: `${data.borrower.username} repaid their loan of ${data.amount} chips with interest. You received ${data.returnAmount} chips.`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    // When a repayment is sent\r\n    socket.on('repayment_sent', (data) => {\r\n      // Remove from active loans\r\n      setActiveLoans(prev => prev.filter(loan => loan.requestId !== data.requestId));\r\n      \r\n      // Add system message\r\n      addMessage({\r\n        content: `You repaid your loan of ${data.amount} chips to ${data.lender.username} with interest. Total paid: ${data.returnAmount} chips.`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    // When a request is sent\r\n    socket.on('request_sent', (data) => {\r\n      // Add to sent requests\r\n      setSentMoneyRequests(prev => [...prev, data]);\r\n      \r\n      // Add system message\r\n      addMessage({\r\n        content: `You requested ${data.amount} chips from ${data.targetPlayer.username}.`,\r\n        type: 'system',\r\n        timestamp: Date.now()\r\n      });\r\n    });\r\n    \r\n    return () => {\r\n      socket.off('money_request');\r\n      socket.off('money_request_accepted');\r\n      socket.off('money_request_rejected');\r\n      socket.off('money_sent');\r\n      socket.off('request_rejected');\r\n      socket.off('loan_repaid');\r\n      socket.off('repayment_sent');\r\n      socket.off('request_sent');\r\n    };\r\n  }, [socket]);\r\n  \r\n  // Game actions\r\n  const createRoom = (username, initialBalance = 1000) => {\r\n    if (!connected) return;\r\n    \r\n    setUsername(username);\r\n    setBalance(initialBalance);\r\n    socket.emit('create_room', { username, balance: initialBalance });\r\n  };\r\n  \r\n  const joinRoom = (roomId, username, initialBalance = 1000) => {\r\n    if (!connected) return;\r\n    \r\n    setUsername(username);\r\n    setBalance(initialBalance);\r\n    socket.emit('join_room', { roomId, username, balance: initialBalance });\r\n  };\r\n  \r\n  const startGame = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    socket.emit('start_game', { roomId });\r\n  };\r\n  \r\n  const placeBet = (amount) => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    socket.emit('place_bet', { roomId, amount });\r\n    setLastBet(amount);\r\n  };\r\n  \r\n  const hit = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    // For split hands, we need to use the original player's socket ID\r\n    if (currentTurn && currentTurn.includes('-split')) {\r\n      const originalPlayerId = currentTurn.split('-')[0];\r\n      if (originalPlayerId === socket.id) {\r\n        socket.emit('hit', { roomId, handId: currentTurn });\r\n      }\r\n    } else if (currentTurn === socket.id) {\r\n      socket.emit('hit', { roomId });\r\n    }\r\n  };\r\n  \r\n  const stand = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    // For split hands, we need to use the original player's socket ID\r\n    if (currentTurn && currentTurn.includes('-split')) {\r\n      const originalPlayerId = currentTurn.split('-')[0];\r\n      if (originalPlayerId === socket.id) {\r\n        socket.emit('stand', { roomId, handId: currentTurn });\r\n      }\r\n    } else if (currentTurn === socket.id) {\r\n      socket.emit('stand', { roomId });\r\n    }\r\n  };\r\n  \r\n  const doubleDown = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    // For split hands, we need to use the original player's socket ID\r\n    if (currentTurn && currentTurn.includes('-split')) {\r\n      const originalPlayerId = currentTurn.split('-')[0];\r\n      if (originalPlayerId === socket.id) {\r\n        socket.emit('double_down', { roomId, handId: currentTurn });\r\n      }\r\n    } else if (currentTurn === socket.id) {\r\n      socket.emit('double_down', { roomId });\r\n    }\r\n  };\r\n  \r\n  const split = () => {\r\n    if (!connected || !roomId || currentTurn !== socket.id) return;\r\n    \r\n    // Can't split a split hand\r\n    if (currentTurn.includes('-split')) return;\r\n    \r\n    socket.emit('split', { roomId });\r\n  };\r\n  \r\n  const surrender = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    // For split hands, we need to use the original player's socket ID\r\n    if (currentTurn && currentTurn.includes('-split')) {\r\n      const originalPlayerId = currentTurn.split('-')[0];\r\n      if (originalPlayerId === socket.id) {\r\n        socket.emit('surrender', { roomId, handId: currentTurn });\r\n      }\r\n    } else if (currentTurn === socket.id) {\r\n      socket.emit('surrender', { roomId });\r\n    }\r\n  };\r\n  \r\n  const startNewRound = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    socket.emit('new_round', { roomId });\r\n  };\r\n  \r\n  const sendMessage = (message) => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    socket.emit('send_message', { roomId, message, sender: username });\r\n  };\r\n  \r\n  const leaveRoom = () => {\r\n    if (!connected || !roomId) return;\r\n    \r\n    socket.emit('leave_room', { roomId });\r\n    setRoomId(null);\r\n    setPlayers([]);\r\n    setDealer({ cards: [], score: 0 });\r\n    setGameState('waiting');\r\n    setCurrentTurn(null);\r\n    setMessages([]);\r\n  };\r\n  \r\n  // Check if it's current player's turn\r\n  const isPlayerTurn = () => {\r\n    if (!socket || !currentTurn) return false;\r\n    \r\n    // Direct match with player's socket ID\r\n    if (currentTurn === socket.id) return true;\r\n    \r\n    // Check if it's the player's split hand turn\r\n    // Split hands have IDs in the format: originalPlayerId-split\r\n    if (currentTurn.includes('-split')) {\r\n      const originalPlayerId = currentTurn.split('-')[0];\r\n      return originalPlayerId === socket.id;\r\n    }\r\n    \r\n    return false;\r\n  };\r\n  \r\n  // Find the current player\r\n  const getCurrentPlayer = () => {\r\n    if (!socket || !players) return null;\r\n    \r\n    // First check for the player's main hand\r\n    const player = players.find(p => p.id === socket.id);\r\n    \r\n    // If it's the player's split hand turn, return that hand instead\r\n    if (currentTurn && currentTurn.includes('-split')) {\r\n      const splitHand = players.find(p => p.id === currentTurn);\r\n      if (splitHand && splitHand.originalPlayer === socket.id) {\r\n        return splitHand;\r\n      }\r\n    }\r\n    \r\n    return player;\r\n  };\r\n  \r\n  // Toggle hints\r\n  const toggleHints = () => {\r\n    setHintsEnabled(prev => !prev);\r\n  };\r\n\r\n  // Request money from a player\r\n  const requestMoney = (targetPlayerId, amount) => {\r\n    if (!socket || !roomId) return;\r\n    \r\n    socket.emit('request_money', {\r\n      roomId,\r\n      targetPlayerId,\r\n      amount: parseInt(amount, 10)\r\n    });\r\n  };\r\n  \r\n  // Accept a money request\r\n  const acceptMoneyRequest = (requestId) => {\r\n    if (!socket || !roomId) return;\r\n    \r\n    socket.emit('accept_money_request', {\r\n      roomId,\r\n      requestId\r\n    });\r\n  };\r\n  \r\n  // Reject a money request\r\n  const rejectMoneyRequest = (requestId) => {\r\n    if (!socket || !roomId) return;\r\n    \r\n    socket.emit('reject_money_request', {\r\n      roomId,\r\n      requestId\r\n    });\r\n  };\r\n  \r\n  // Repay a loan\r\n  const repayLoan = (requestId) => {\r\n    if (!socket || !roomId) return;\r\n    \r\n    socket.emit('repay_loan', {\r\n      roomId,\r\n      requestId\r\n    });\r\n  };\r\n\r\n  return (\r\n    <GameContext.Provider\r\n      value={{\r\n        connected,\r\n        username,\r\n        balance,\r\n        roomId,\r\n        players,\r\n        dealer,\r\n        gameState,\r\n        currentTurn,\r\n        messages,\r\n        error,\r\n        gameHistory,\r\n        leaderboard,\r\n        lastBet,\r\n        hintsEnabled,\r\n        pendingMoneyRequests,\r\n        sentMoneyRequests,\r\n        activeLoans,\r\n        createRoom,\r\n        joinRoom,\r\n        startGame,\r\n        placeBet,\r\n        hit,\r\n        stand,\r\n        doubleDown,\r\n        split,\r\n        surrender,\r\n        startNewRound,\r\n        sendMessage,\r\n        leaveRoom,\r\n        isPlayerTurn,\r\n        getCurrentPlayer,\r\n        toggleHints,\r\n        requestMoney,\r\n        acceptMoneyRequest,\r\n        rejectMoneyRequest,\r\n        repayLoan\r\n      }}\r\n    >\r\n      {children}\r\n    </GameContext.Provider>\r\n  );\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}